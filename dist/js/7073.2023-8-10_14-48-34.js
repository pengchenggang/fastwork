"use strict";(self["webpackChunkfastwork"]=self["webpackChunkfastwork"]||[]).push([[7073],{7073:function(t,e,n){n.r(e),n.d(e,{default:function(){return r}});var a=function(){var t=this,e=t._self._c;return e("span",{staticStyle:{display:"block"}},[e("div",{staticStyle:{padding:"30px",width:"400px",margin:"0 auto"}},[e("Button",{attrs:{type:"primary"},on:{click:t.insertHandle}},[t._v("新建")]),e("Table",{staticStyle:{width:"300px"},attrs:{columns:t.columns1,data:t.list},scopedSlots:t._u([{key:"operation",fn:function({row:n,index:a}){return[e("Button",{staticStyle:{padding:"6px 4px"},attrs:{type:"text"},on:{click:function(e){return t.editHandle(n,a)}}},[t._v("编辑 ")]),e("span",{staticStyle:{color:"#999"}},[t._v("|")]),e("Button",{staticStyle:{padding:"6px 4px"},attrs:{type:"text"},on:{click:function(e){return t.deleteHandle(n,a)}}},[t._v("删除 ")])]}}])}),e("Modal",{attrs:{title:"编辑"},on:{"on-ok":t.editOkHandle,"on-cancel":t.editCancelHandle},model:{value:t.editModal,callback:function(e){t.editModal=e},expression:"editModal"}},[e("Input",{model:{value:t.currRow.name,callback:function(e){t.$set(t.currRow,"name",e)},expression:"currRow.name"}})],1),e("Modal",{attrs:{title:"新建"},on:{"on-ok":t.insertOkHandle,"on-cancel":t.insertCancelHandle},model:{value:t.insertModal,callback:function(e){t.insertModal=e},expression:"insertModal"}},[e("Input",{model:{value:t.currRow.name,callback:function(e){t.$set(t.currRow,"name",e)},expression:"currRow.name"}})],1)],1)])},o=[],s={components:{},props:{},data(){return{insertModal:!1,currRow:{name:""},editModal:!1,list:[],columns1:[{title:"Name",key:"name"},{title:"操作",slot:"operation"}]}},watch:{},computed:{},methods:{insertCancelHandle(){this.insertModal=!1},insertOkHandle(){const t={name:this.currRow.name};this.$api("/todo2/insert",t).then((t=>{t&&20===t.status&&this.searchTable()}))},insertHandle(){this.currRow={name:""},this.insertModal=!0},editHandle(t,e){this.currRow={...t},this.editModal=!0},editOkHandle(){const t={...this.currRow};this.$api("/todo2/update",t).then((t=>{t&&20===t.status&&this.searchTable()}))},editCancelHandle(){this.editModal=!1},searchTable(){const t="/todo2/tabulation";this.$api(t).then((t=>{t&&20===t.status&&(this.list=t.data)}))},deleteHandle(t,e){const n={deleteId:t.id};this.$api("/todo2/delete",n).then((t=>{t&&20===t.status&&this.searchTable()}))},webSocketTest(){const t="ws://192.168.40.54:8012/verifyDevice?deviceId=abc",e=new WebSocket(t);e.onopen=()=>console.log("连接建立"),e.onclose=()=>console.log("连接关闭"),e.onmessage=function(t){console.info("webSocket res",t)}}},created(){},activated(){},mounted(){this.searchTable(),this.webSocketTest()},beforeDestroy(){}},i=s,l=n(1001),c=(0,l.Z)(i,a,o,!1,null,"3f671661",null),r=c.exports}}]);