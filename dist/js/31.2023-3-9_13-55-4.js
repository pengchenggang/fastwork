"use strict";(self["webpackChunkfastwork"]=self["webpackChunkfastwork"]||[]).push([[31],{7031:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var o=function(){var e=this,t=e._self._c;return t("div",[t("compLayout",[t("h1",[e._v("Plopjs 微型脚手架")]),t("h2",{attrs:{id:"GS"}},[e._v("概述")]),t("ul",{staticClass:"list"},[t("li",[e._v("主要功能：创建页面模板文件")]),t("li",[e._v("plopjs 官网："),t("a",{attrs:{href:"https://plopjs.com/documentation/",target:"_blank"}},[e._v("https://plopjs.com/documentation/")])])]),t("h2",{attrs:{id:"安装依赖库"}},[e._v("安装依赖库")]),t("c",[e._v("npm install --save-dev plop")]),e._v(" 先把库装上 "),t("h2",{attrs:{id:"配置文件"}},[e._v("配置文件")]),t("p",[e._v("根目录创建 "),t("c",[e._v("plopfile.js")])],1),t("codeIn",[t("pre",{directives:[{name:"highlight",rawName:"v-highlight"}]},[t("code",[e._v("export default function (plop) {\n  // 入口函数\n  plop.setGenerator('basics', {\n    description: '描述文字不显示在控制台',\n    prompts: [], // 这里是提问的问题\n    actions: [], // 这里是执行的函数\n  })\n};")])])]),t("h2",{attrs:{id:"执行脚本"}},[e._v("执行脚本")]),t("codeIn",[t("pre",{directives:[{name:"highlight",rawName:"v-highlight"}]},[t("code",[e._v('// package.json\n{\n    ...,\n    "scripts": {\n        "plop": "plop"\n    },\n    ...\n}')])])]),t("h2",{attrs:{id:"修改脚本类型"}},[e._v("修改脚本类型")]),t("p",[e._v("如果不了解ESM,可以看我写的这篇文章 "),t("a",{attrs:{href:"https://www.cnblogs.com/pengchenggang/p/17037512.html",target:"_blank"}},[e._v("CommonJs VS ES Module")])]),t("codeIn",[t("pre",{directives:[{name:"highlight",rawName:"v-highlight"}]},[t("code",[e._v('// package.json\n{\n    ...,\n    "type": "module",\n    ...\n}')])])]),t("blockquote",[t("p",[e._v("到这里我们已经可以通过 "),t("c",[e._v("npm run plop")]),e._v(" 跑通这个命令了，最小循环已完成，下面进行配置文件的扩展。")],1)]),t("h2",{attrs:{id:"配置文件带提问"}},[e._v("配置文件带提问")]),t("codeIn",[t("pre",{directives:[{name:"highlight",rawName:"v-highlight"}]},[t("code",[e._v("export default function (plop) {\n    // controller generator\n    plop.setGenerator('controller', {\n        description: 'application controller logic',\n        prompts: [{\n            type: 'input',\n            name: 'name',\n            message: 'controller name please'\n        }],\n        actions: [{\n            type: 'add',\n            path: 'src/{_{ name }_}.js', // 请忽略下划线\n            templateFile: 'plop-templates/controller.hbs'\n        }]\n    });\n};")])])]),t("ul",{staticClass:"list"},[t("li",[t("p",[e._v("执行 "),t("c",[e._v("npm run plop")]),e._v(" 查看下效果")],1)]),t("li",[e._v("报错 发现找不到 "),t("c",[e._v("plop-templates/controller.hbs")]),e._v(" 文件")],1)]),t("h2",{attrs:{id:"创建模板文件"}},[e._v("创建模板文件")]),t("ul",{staticClass:"list"},[t("li",[e._v("先在根目录创建 "),t("c",[e._v("plop-templates")]),e._v(" 目录")],1),t("li",[e._v("再在里面创建 "),t("c",[e._v("controller.hbs")]),e._v(" 文件")],1),t("li",[e._v("执行 "),t("c",[e._v("npm run plop")]),e._v(" 输入name, 然后会在src的目录下生成指定的文件")],1)]),t("h2",{attrs:{id:"恢复commonjs"}},[e._v("恢复commonjs")]),t("ul",{staticClass:"list"},[t("li",[e._v("package.json中 如果不写type, 默认是commonjs。")]),t("li",[t("c",[e._v('"type": "commonjs"')])],1),t("li",[e._v("之前我们改为了 "),t("c",[e._v('"type": "module",')]),e._v(", 现在我们恢复回来")],1),t("li",[e._v("为什么恢复？因为我用的vue cli,之前的代码都用的commonjs,我懒的改了")])]),t("blockquote",[t("p",[e._v("删除 package.json 中的 "),t("c",[e._v('"type": "module",')])],1)]),t("h3",[e._v("plopfile.js")]),t("codeIn",[t("pre",{directives:[{name:"highlight",rawName:"v-highlight"}]},[t("code",[e._v("module.exports = function (plop) {\n  // controller generator\n  plop.setGenerator('controller', {\n    description: 'application controller logic',\n    prompts: [{\n      type: 'input',\n      name: 'name',\n      message: 'controller name please'\n    }],\n    actions: [{\n      type: 'add',\n      path: 'src/{_{name}_}.vue', // 忽略下划线\n      templateFile: 'plop-templates/controller.hbs'\n    }]\n  })\n}")])])])],1)],1)},l=[],p={name:"plopjs",props:{},components:{},data(){return{}},watch:{},computed:{},methods:{},created(){},activated(){},mounted(){},beforeDestroy(){}},a=p,s=n(1001),r=(0,s.Z)(a,o,l,!1,null,null,null),i=r.exports}}]);